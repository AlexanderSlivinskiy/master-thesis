\RequirePackage[l2tabu,orthodox]{nag}

% TODO: decide if one-sided/two-sided
%\documentclass[headsepline,footsepline,footinclude=false,fontsize=11pt,paper=a4,listof=totoc,bibliography=totoc,BCOR=12mm,DIV=12]{scrbook} % two-sided
\documentclass[headsepline,footsepline,footinclude=false,oneside,fontsize=11pt,paper=a4,listof=totoc,bibliography=totoc]{scrbook} % one-sided

% TODO: change citation style in settings
\input{settings}
\definecolor{TerminalGreen}{HTML}{1A9988}
%\input{format/packages}
\input{format/macros}
\input{format/sashasmacros}

\begin{document}

\subsection{General}
\[
G = (V,E)
\]
\[
c: E \longrightarrow \mathbb{R}_{\geq 1}
\]

\begin{equation} \label{eq2}
|T_A| \leq |T_B|
\end{equation}

\[
F: E \longrightarrow \mathbb{R^+}
\]

\[
D: (\terminalSet \times \terminalSet) \longrightarrow \mathbb{R^+}
\]



\[
MinCut_G(\mathrm{T_A}, \mathrm{T_B}) \leq MinCut_H(\mathrm{T_A}, \mathrm{T_B}) \leq 3 \cdot MinCut_G(\mathrm{T_A}, \mathrm{T_B})
\]

\[
MinCut_G(\mathrm{T_A}, \mathrm{T_B}) \leq MinCut_H(\mathrm{T_A}, \mathrm{T_B}) \leq q \cdot MinCut_G(\mathrm{T_A}, \mathrm{T_B})
\]

\[
\eta(H, D) \leq \eta(G, D) \leq q \cdot \eta(H, D)
\]


\[
\cutAB = 1, \minTerminalSet = 2 \quad \longrightarrow \quad \frac{1}{3} \leq \frac{\cutAB}{\minTerminalSet} = \frac{1}{2} 
\]

Well-Linkedness
\[
	\terminalOutSet = \{(u,v) \in E \ | \ u \in \terminalSetColored \land v \notin \terminalSetColored\}
\] 

\[
	\forall (\terminalOutSet_A, \terminalOutSet_B) = \terminalOutSet: \alpha \leq \frac{\cutAB}{\minTerminalSet}
\] 

Sparsifier-Quality

\[
	\minTerminalSet \leq 3 \cutAB
\]

\section{Decomposition}
\[
2^k \cdot poly(n) \cdot \mathrm{O}(n) = 2^k \cdot poly(n)
\]

\[
G' = (V', E'),\quad \terminalSet' \subset V' \quad R' = V' \setminus \terminalSet', \quad |out(R')| = |\terminalOutSet_R'| =  k'
\]

\[	
\frac{k}{2^{i/2}} < |\terminalOutSet_{R'}| \leq \frac{k}{2^{i-1/2}}
\]


\[
|\terminalOutSet_{A}| \leq |\terminalOutSet_{B}|
\]

\[
\frac{1}{3} > \frac{\cutAB}{|\terminalOutSet_{A}|}
\]

\[
|out(A)| = |out(A) \cap out(R')| + \cutAB < |out(A) \cap out(R')| + \frac{1}{3}|out(A) \cap out(R')|
\]

\begin{align*}
|\terminalOutSet_{A'}| & = |\terminalOutSet_{A}| + \cutAB \\
& \leq |\terminalOutSet_{A}| + \frac{1}{3}|\terminalOutSet_{A}| \\
& \leq \frac{4}{3} \cdot \frac{1}{2} |\terminalOutSet_{R'}| \\
& = \frac{2}{3} |\terminalOutSet_{R'}| < \frac{1}{\sqrt{2}} |\terminalOutSet_{R'}|
\end{align*}

PROOF CLAIM 6
\[
n_i' \leq \frac{1}{3} S_{i-1}
\]

\[
\cutAB \leq \frac{1}{3}\minTerminalSet \leq \frac{1}{2}\cdot\frac{1}{3}|\terminalOutSet| = \frac{1}{6}S_{i-1}\\
\]

\[
n_i' \leq 2 \cutAB \leq \frac{1}{3} S_{i-1}
\]

PROOF CLAIM 7

\[
n_i \leq \frac{1}{2} (S_{i-1} + n_i')
\]

\[
z = S_{i-1} + n_i'
\]

\[
n_i \leq \frac{1}{3}z + \frac{1}{3}(\frac{1}{3}z) + ...
\]

\begin{align*}
n_i & \leq \sum_{j = 1}^{\infty} z (\frac{1}{3})^j) \\
& = z (\sum_{j = 0}^{\infty} (\frac{1}{3})^j - 1) \\
& = z (\frac{3}{2} - 1) \\
& = \frac{1}{2}z
\end{align*}

CONCLUSION STRONG DECOMP
\[
S_1 \leq \frac{3}{2}k
\]

\[
S_i = S_{i-1} + n_i' + n_i \leq S_{i-1} + \frac{1}{3}S_{i-1} + \frac{2}{3}S_{i-1} = 2S_{i-1}
\]

\[
S_i \leq 3 \cdot 2^{i-2}k
\]

\[
S_{2log(k)+1} \leq 3k \cdot 2^{2log(k)} = \mathrm{O}(k^3)
\]

GENERALIZE
\[
G: \forall e \in E: c(e) \geq 1
\]

\[
0 < \epsilon < 1
\]

\[
C = \sum_{e \in \terminalOutSet} c(e)
\]

\[
G 
\xrightarrow{\min{\{c(e), C\}}} 
\tilde{G}
\xrightarrow{\ceil{\frac{c(e)}{\epsilon}} \ \text{new edges}}
G'
\xrightarrow{\text{Sparsify}}
H'
\xrightarrow{c_H(e) \ = \ \epsilon \cdot c_{H'}(e)}
H
\]

\[
MinCut_{H}(\terminalOutSet_A, \terminalOutSet_B) = \epsilon \cdot MinCut_{H'}(\terminalOutSet_A, \terminalOutSet_B)
\]

\begin{align*}
MinCut_{G}(\terminalOutSet_A, \terminalOutSet_B) & \leq \epsilon \cdot MinCut_{G'}(\terminalOutSet_A, \terminalOutSet_B) \\
& \leq \epsilon \cdot MinCut_{H'}(\terminalOutSet_A, \terminalOutSet_B)\\
& = MinCut_{H}(\terminalOutSet_A, \terminalOutSet_B)
\end{align*}

	
\[
\ceil[\bigg]{\frac{c(e)}{\epsilon}} \overset{\mathrm{c(e)\geq 1}}{\leq} \frac{c(e)}{\epsilon}(1 + \epsilon)
\]

\[
MinCut_{G'}(\terminalOutSet_A, \terminalOutSet_B) \leq \frac{MinCut_{G}(\terminalOutSet_A, \terminalOutSet_B)}{\epsilon}(1 + \epsilon)
\]

\[
G': c'(e) = \ceil{c(e)}
\]

\[
MinCut_{G'}(\terminalOutSet_A, \terminalOutSet_B) \leq 2 \cdot MinCut_{G}(\terminalOutSet_A, \terminalOutSet_B)
\]

\begin{align*}
MinCut_{H}(\terminalOutSet_A, \terminalOutSet_B) & = \epsilon \cdot MinCut_{H'}(\terminalOutSet_A, \terminalOutSet_B) \\
& \leq 3\epsilon \cdot MinCut_{G'}(\terminalOutSet_A, \terminalOutSet_B)\\
& \leq 3(1+\epsilon) MinCut_{G}(\terminalOutSet_A, \terminalOutSet_B)
\end{align*}

Conclusion Cut-sparsifier
\[
C = \sum_{e \in \terminalOutSet} \ceil{c(e)}
\]

\[
|V_H| = O(C^3)
\]

\[
poly(n) \cdot 2^C
\]

\[
3(1 + \epsilon), \ 0 < \epsilon \leq 1
\]


\section{Flow Sparsifier}
Flow cut gap
\[
\Theta(log(k))
\]

\[
\alpha\text{-well-linked} \longrightarrow \frac{\alpha}{k\cdot\Theta(log(k))} \text{ flow units with }\eta \leq 1
\]

\[
\text{Any 1-restricted set D routed with }\eta \leq 2\frac{\Theta(log(k))}{\alpha}
\]

\[
\ceil[\bigg]{\frac{k}{2}}
\]

\[
\ceil[\bigg]{\frac{k}{4}}
\]

\[
|A|,|B| \leq \frac{|R'|}{4}
\]

\[
\weakLinked
\]

\[
r = O(log^3k)
\]

Type 1

\[
\frac{1}{k} \cdot \weakLinked \cdot \frac{1}{\flowCutGap}
\]

Type 2

\[
r \cdot \ceil[\bigg]{\frac{k}{4}}
\]

\end{document}

\documentclass{standalone}
\usepackage{tikz}

\input{commands}

\begin{document}
\begin{tikzpicture}[scale=0.7, every node/.style={font=\large, transform shape}]
%little BCEC with loop

\drawdummy (init) at (-2,0) {};
\drawcirc (p) at (0,0) {$\mathsf{s_0}$};
\draw (-1, -1) node {$\val (\mathsf{s_0})=1$};
\drawdummy (pHelp) at (0,2) {};
\drawdummy (pMid) at (4,2) {};
\drawbox (q) at (4,0) {$\mathsf{s_1}$};
\draw (2.5, -1) node {$\val (\mathsf{s_1})=1$};
\drawcirc (v) at (4,-3) {$\mathsf{s_2}$};
\draw (2.5, -4) node {$\val (\mathsf{s_2})=1$};
\drawdummy (vHelp1) at (4,-4) {};
\drawdummy (vHelp2) at (10,-4) {};
\drawdummy (vHelp3) at (10,2) {};
\drawdummy (spacing) at (11,2) {};
\drawdummy (spacingleft) at (-2.5,0) {};
\drawdummy (mid) at (6,0) {};
\drawbox (1) at (8,2) {$\mathsf{f}$};
\drawcirc (0) at (8,-2)  {$\mathsf{o}$};

\draw[->] (init) to (p);
\draw[-] (p) to (pHelp);
\draw[-] (pHelp) to node [midway, above] {$\mathsf{c}$} (pMid);
\draw[->] (pMid) to node [midway, above] {$\frac{1}{3}$} (1);
\draw[->] (pMid) to node [midway, left] {$\frac{2}{3}$} (q);
\draw[very thick, blue,->] (p) to node [midway,anchor=south] {$\mathsf{a}$}(q) ;
\draw[->] (p) to (0, -3) to node [text width = 0.5cm, below, midway] {$\mathsf{b}$} (v);
\draw[very thick, red,->] (q) to node [text width = 0.75cm, below, midway] {$\mathsf{a}$} (v);
\draw[very thick, blue,-] (v) to (vHelp1);
\draw[very thick, blue,-] (vHelp1) to node [below, midway] {$\mathsf{a}$} (vHelp2);
\draw[very thick, blue,-] (vHelp2) to (vHelp3);
\draw[very thick, blue,->] (vHelp3) to (1);
\draw[-] (q) to node [midway,anchor=south] {$\mathsf{b}$} (mid) ;
%\draw (mid) -- (0);% node [midway,anchor=north east] {0.5};
%\draw (mid) -- (1);% node [midway,anchor=south east] {0.5};
\draw[->] (mid) to [bend right] node [text width =0.25cm, left, midway] {$\frac{1}{2}$} (0);
\draw[->] (mid) to [bend left] node [text width =0.25cm, midway, left] {$\frac{1}{2}$} (1);
%\draw (mid) to [bend left,out=270,in=270] (q) ;
\draw[->]  (0) to[loop above]  node [midway,anchor=south] {$\mathsf{a}$} (0);
\draw[->]  (1) to [loop above] node [midway,anchor=south] {$\mathsf{a}$} (1);
\end{tikzpicture}
\end{document}